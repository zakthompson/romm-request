## Version 2024/07/16
# SWAG nginx config for RomM Request â€” subdomain mode
# Place this file in your SWAG config directory:
#   /path/to/swag/config/nginx/proxy-confs/romm-request.subdomain.conf
#
# Make sure to update the server_name and set-upstream directives.

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    server_name requests.*;

    include /config/nginx/ssl.conf;

    client_max_body_size 0;

    location / {
        include /config/nginx/proxy.conf;
        include /config/nginx/resolver.conf;
        set $upstream_app romm-request;
        set $upstream_port 3000;
        set $upstream_proto http;
        proxy_pass $upstream_proto://$upstream_app:$upstream_port;
    }
}
